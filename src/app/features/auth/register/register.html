<form (ngSubmit)="onRegister()" [formGroup]="registerForm">
    <fieldset>
        <h2>Register</h2>
        @if (registerFailedUserAlrExists) {
          <div>
            <p>{{registerFailedUserAlrExists}}</p>
          </div>
        }

        <div class="form-group ">
            <label for="email">Email</label>
            <input 
                [class.input-error]="isEmailValid"
                type="email" 
                id="email"
                class="form-control"
                formControlName="email">
        </div>
        @if (isEmailValid) {
    <p class="error">
      {{ emailErrorMessage }}
    </p>
    }

        <div class="form-group ">
            <label for="username">Username</label>
            <input 
                [class.input-error]="isUsernameValid"
                type="username" 
                id="username"
                class="form-control"
                formControlName="username">
        </div>
        @if (isUsernameValid) {
    <p class="error">
      {{ usernameErrorMessage }}
    </p>
    }
        <div formGroupName="passwords">

            <div class="form-group">
            <label for="password">Password</label>
            <input 
                [class.input-error]="isPasswordsValid"
                type="password" 
                id="password"
                class="form-control" 
                formControlName="password">
            </div>
             @if (isPasswordsValid) {
      <p class="error">
        {{ passwordErrorMessage }}
      </p>
}
            <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input 
                [class.input-error]="isPasswordsValid"
                type="password" 
                id="confirmPassword"
                class="form-control"
                formControlName="confirmPassword">
            </div>
            @if (isPasswordsValid) {
      <p class="error">
        {{ confirmPasswordErrorMessage }}
      </p>
      }
        </div>
        <button class="btn" [disabled]="registerForm.invalid">Register</button>
        <p class="text-center">
            Already have an account?
            <a routerLink="/login">Login</a>
        </p>
    </fieldset>
</form>